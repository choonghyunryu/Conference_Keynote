<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Again wind in Korea with GNU R</title>
    <meta charset="utf-8" />
    <meta name="author" content="유충현" />
    <meta name="date" content="2021-11-19" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="css/rconf.css" type="text/css" />
    <link rel="stylesheet" href="css/rconf-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: title-slide, left, bottom

# Again wind in Korea with GNU R
----
## **R의 부활을 꿈꾸며**
### 유충현
#### (한화생명, R 사용자회)
### 2021-11-19

 
---
class: inverse, middle
name: data-science-case

# 발표 개요

----

.pull-left[

한국에서 R 사용자를 위한 첫 컨퍼런스인, .red[**'R User Conference 2011'**]이 성황리에 개최된 지 10년이 흘렀습니다. 강산이 변한다는 10년동안 국내외 데이터 분석 필드는 많은 변화와 발전을 이루었으며, 디지털 경제전환(Digital Transformation)의 가속화의 핵심에는 데이터와 데이터 분석 기술이 있다는 중론이 있습니다.

10년 전 컨퍼런스를 호스트한 R 사용자로서의 감회는, .red[**데이터 분석 필드의 염원과 기대를 R의 대중화로 뿌리내리지 못한 것에 대한 아쉬움**]을 앞설 수 없습니다. 다시 R 사용자의 염원을 담아서 .red[**R에 대한 관심과 대중화를 위한 몇 가지 시도를 소개**]하면서, 커뮤니티의 동참을 제안합니다.

]
 
.pull-right[   
.left[

1\. [과거를 회상하며](#past)

2\. [미래를 설계하며](#future)

3\. [아카데미를 위한 R 환경 개선](#academy)

4\. [엔터프라이즈를 위한 R 환경 개선](#enterprise)

5\. [마무리](#rconf-goodbye)

]
] &lt;!--end of right-column--&gt;


---
name: past
class: inverse, middle, center

# 과거를 회상하며

&lt;!--------------------------  New Wind in Korea with GNU R ------------------------------------&gt;

---
name: past-rconf
# New Wind in Korea with GNU R

.center[
  &lt;img src="fig/banner.jpg" alt="2011년 1회 R User Conference 모시는글 발췌" width="100%"&gt;
]

* 10년 전에는 
  + 빅데이터 분석 도구로서의 R 활용에 대한 기대감 
  + SI, 인터넷, 통신, 게임업체 등 기업의 높은 관심도
  + Statistical Computing &gt; Big Data &gt; Visualization &gt; Bioinformatics 니즈

* **.blue["New Wind in Korea with GNU R"]**
  + 제 1회 R User Conference 슬로건
  + Dr. Duncan, Dr. John Fox, Dr. Friedrich Leisch, Tal Galili

* 조기 마감, 210여명 오프라인 행사 참석
  + 컨퍼런스 공간의 한계로 선착순 수용
  
---
name: intro-survey
# 2011년도 컨퍼런스 설문지 분석

.center[
  &lt;img src="fig/survey2.png" alt="2011년 R User Conference 설문 요약" width="65%"&gt;
]

--

R 대중화를 위한 솔루션은 .blue[**무엇이었던가?**]

--

- 진입 장벽을 낮출, 초보자를 위한 R 학습 인프라

--

- 일선 현장에서의 활용을 위한 지원 체계

--

- 엔터프라이즈 환경에서의 활용 사례 발굴

--

- R의 장점을 살린 킬러 컨텐츠
    
    
---
name: paradigm-field
# 데이터 분석 필드에서의 패러다임 전환

.center[
  &lt;img src="fig/paradigm.png" alt="데이터 분석 필드에서의 패러다임 전환" width="65%"&gt;
]

--

**python의 대중화와 R의 소외감**
- 공급부족 데이터 분석시장에 개발자 캐릭터 분석가의 진입 &amp;#8594; 개발자 선호 툴
- CRM, 빅데이터, 거쳐 시장에서의 딥러닝의 붐업 &amp;#8594; 딥러닝 python 라이브러리

--

**엔지니어링의 중요성 부각**
- 오픈소스 생태계의 여러 솔루션을 다룰 수 있는 멀티플레이어 요구


---
name: paradigm-r
# R 생태계의 패러다임 전환

.center[
  &lt;img src="fig/r-paradigm.png" alt="R 생태계의 패러다임 전환" width="65%"&gt;
]

--

**독립 시스템에서 에코 시스템으로 전환**
- base R을 넘어 Tidyverse, Tidymodels, ...

--

**재현가능 연구를 위한 생태계 완비**
- 데이터 분석 경험의 공유 및 핸즈온 교육 용이

--

**엔터프라이즈 시장에서의 활용 가능**
- 부족했던 R 성능의 캐치업 &amp;#8594; 수행속도, 데이터 핸들링 용량 등
     
      
---
name: future
class: inverse, middle, center

# 미래를 설계하며


---
name: rconf
# Again Wind in Korea with GNU R

.center[
  &lt;img src="fig/again_wind.png" alt="한국 R 컨퍼런스 2021 홈페이지 발췌" width="70%"&gt;
]
    
* .red[**"Again Wind in Korea with GNU R"**]
  + 10년 전처럼, .blue[**R에 대한 기대감 염원**]을 불을 다시 지피기 위한 
      + R을 활용하는 최적 솔루션 제언
      + 한국의 R 생태계 조성을 위한 협업 제안

---
name: survey-1
# 다시 꺼낸 Survey - 진입장벽

.center[
  &lt;img src="fig/survey1.png" alt="2011년 R User Conference 설문" width="65%"&gt;
]

* 아카데미, 공공기관, 중소기업의 R 진입 장벽은 무엇인가?
  + **새로운 언어를 배워야 한다는 부담감** 
  + 이미 익숙한 상용 데이터분석 소프트웨어를 사용함
      + 비용 절감 목적으로 접근하려는데, 취약한 R 교육훈련 인프라
      
* **.blue[오늘 이야기할 첫번째 주제]** - 발상의 전환
  + **.red["R이 아니라, R로 만들어진 데이터 분석 소프트웨어를 만들어 보자."]** 


---
name: survey-2
# 다시 꺼낸 Survey - 대중화의 걸림돌

.center[
  &lt;img src="fig/survey3.png" alt="2011년 R User Conference 설문" width="65%"&gt;
]

* 엔터프라이즈의 R 진입 장벽은 무엇인가?
  + 대용량 분산 환경 니즈 &amp;#8594; **대용량 데이터처리의 성능 구현 사례** 
  + 한글화 자료, 샘플, 매뉴얼의 니즈 &amp;#8594; **한글화된 가이드 제공**  
  
* **.blue[오늘 이야기할 두번째 주제]** - 빅 픽쳐, 욕심 내보기
  + **.red["All-in-One R 데이터분석 방법론을 만들어 보자."]** 
      + CRISP-DM, SEMMA, Tidiverse 데이터과학 프로세스 접목


---
name: academy
class: inverse, middle, center

# 아카데미를 위한 R 환경 개선

---
name: intro-openstat
# 오픈소스 통계분석 시스템 개발 

.center[
  &lt;img src="fig/bitstat_bin.jpeg" alt="오픈소스 통계분석 시스템" width="55%"&gt;
]

* 오픈소스 통계분석 시스템이란?
  + **R/Shiny**로 개발한 **오픈소스** 기반의 R 패키지, 현재 **프로토타이핑** 중

* 아카데미, 중소기업, 공공기관, 일반인 대상  
  + 통계 비전공자들을 위한 데이터 분석 시스템 
  + R을 모르더라도 사용가능, R 사용자는 더욱 쉽게 활용 

* **기초통계** 및 **머신러닝** 분석 기능 제공


---
name: feature-openstat
# 오픈소스 통계분석 시스템 특징 

**다국어 지원(i18n)**
- .blue[**국문**]과 .blue[**영문**] 메뉴 및 메시지

.center[
  &lt;img src="fig/bitstat_kor.jpeg" alt="한글 메뉴" width="55%"&gt;
  &lt;img src="fig/bitstat_eng.jpeg" alt="영문 메뉴" width="55%"&gt;  
]


---
name: feature-openstat2
# 오픈소스 통계분석 시스템 특징 

**데이터 분석 보고서 지원** &amp;#8594; .blue[**PDF 포맷 보고서**]와 .blue[**HTML 포맷 보고서**] 

.center[
  &lt;img src="fig/bitstat_report_pdf.jpeg" alt="PDF 포맷 보고서" width="30%"&gt;
  &lt;img src="fig/bitstat_report_web.jpeg" alt="HTML 포맷 보고서" width="40%"&gt;  
]

**도움말 및 튜토리얼 지원** 

.center[
  &lt;img src="fig/help.png" alt="PDF 포맷 보고서" width="40%"&gt;
]


---
name: enterprise
class: inverse, middle, center

# 엔터프라이즈를 위한 R 환경 개선


---
name: largedata-needs
# 대용량 데이터 처리의 니즈

.center[
  &lt;img src="fig/HPC.png" alt="HPC" width="95%"&gt;
]

* CRAN Task Views
  + [High-Performance and Parallel Computing with R](https://cran.r-project.org/web/views/HighPerformanceComputing.html)

* 다건 처리의 진화, 당신의 위치는 어디인가요?
  + loop &amp;#8594; apply &amp;#8594; purrr &amp;#8594; furrr

---
name: solution-furrr

# 대용량 데이터 처리를 위한 솔루션 - 예제

.panelset[
.panel[.panel-name[준비]


```r
# 테스트용 데이터 생성
(distribution &lt;- tibble::tibble(
  uniform = runif(4),
  normal = rnorm(4),
  student_t = rt(4, df = 3)
))
```

&lt;div class="sourceCode"&gt;&lt;pre class="sourceCode"&gt;&lt;code class="sourceCode"&gt;&lt;span style='color: #555555;'&gt;# A tibble: 4 x 3&lt;/span&gt;
  uniform normal student_t
    &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;  &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;     &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style='color: #555555;'&gt;1&lt;/span&gt;   0.165 -&lt;span style='color: #BB0000;'&gt;1.41&lt;/span&gt;      1.44 
&lt;span style='color: #555555;'&gt;2&lt;/span&gt;   0.993 -&lt;span style='color: #BB0000;'&gt;0.412&lt;/span&gt;    -&lt;span style='color: #BB0000;'&gt;0.950&lt;/span&gt;
&lt;span style='color: #555555;'&gt;3&lt;/span&gt;   0.380  1.46      0.908
&lt;span style='color: #555555;'&gt;4&lt;/span&gt;   0.706 -&lt;span style='color: #BB0000;'&gt;1.09&lt;/span&gt;     -&lt;span style='color: #BB0000;'&gt;9.53&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

```r
# 사용자 정의 함수
minmax &lt;- function(x) {
  (x - min(x)) / diff(range(x))
}
```

]

.panel[.panel-name[for loop]


```r
distribution_minmax &lt;- distribution

# 반복문 수행
for (nm in names(distribution)) {
  distribution_minmax[[nm]] &lt;- minmax(distribution[[nm]])
}

distribution_minmax
```

&lt;div class="sourceCode"&gt;&lt;pre class="sourceCode"&gt;&lt;code class="sourceCode"&gt;&lt;span style='color: #555555;'&gt;# A tibble: 4 x 3&lt;/span&gt;
  uniform normal student_t
    &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;  &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;     &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style='color: #555555;'&gt;1&lt;/span&gt;   0      0         1    
&lt;span style='color: #555555;'&gt;2&lt;/span&gt;   1      0.348     0.782
&lt;span style='color: #555555;'&gt;3&lt;/span&gt;   0.259  1         0.952
&lt;span style='color: #555555;'&gt;4&lt;/span&gt;   0.653  0.111     0    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

]

.panel[.panel-name[apply 계열]


```r
# sapply() 수행
distribution_minmax &lt;- sapply(distribution, minmax)

tibble::as_tibble(distribution_minmax)
```

&lt;div class="sourceCode"&gt;&lt;pre class="sourceCode"&gt;&lt;code class="sourceCode"&gt;&lt;span style='color: #555555;'&gt;# A tibble: 4 x 3&lt;/span&gt;
  uniform normal student_t
    &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;  &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;     &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style='color: #555555;'&gt;1&lt;/span&gt;   0      0         1    
&lt;span style='color: #555555;'&gt;2&lt;/span&gt;   1      0.348     0.782
&lt;span style='color: #555555;'&gt;3&lt;/span&gt;   0.259  1         0.952
&lt;span style='color: #555555;'&gt;4&lt;/span&gt;   0.653  0.111     0    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

]

.panel[.panel-name[purrr]


```r
# functional program 수행
purrr::map_df(distribution, minmax)
```

&lt;div class="sourceCode"&gt;&lt;pre class="sourceCode"&gt;&lt;code class="sourceCode"&gt;&lt;span style='color: #555555;'&gt;# A tibble: 4 x 3&lt;/span&gt;
  uniform normal student_t
    &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;  &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;     &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style='color: #555555;'&gt;1&lt;/span&gt;   0      0         1    
&lt;span style='color: #555555;'&gt;2&lt;/span&gt;   1      0.348     0.782
&lt;span style='color: #555555;'&gt;3&lt;/span&gt;   0.259  1         0.952
&lt;span style='color: #555555;'&gt;4&lt;/span&gt;   0.653  0.111     0    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

]

.panel[.panel-name[furrr]


```r
# functional program 수행
# RStudio에서는 sequential 수행 
options(future.globals.maxSize = 5 * 1024 ^ 2) # 메모리 부족 에러 시 사용 
no_cores &lt;- future::availableCores() - 1
future::plan("future::multicore", workers = no_cores)

furrr::future_map_dfr(distribution, minmax)
```

&lt;div class="sourceCode"&gt;&lt;pre class="sourceCode"&gt;&lt;code class="sourceCode"&gt;&lt;span style='color: #555555;'&gt;# A tibble: 4 x 3&lt;/span&gt;
  uniform normal student_t
    &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;  &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;     &lt;span style='color: #555555; font-style: italic;'&gt;&amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style='color: #555555;'&gt;1&lt;/span&gt;   0      0         1    
&lt;span style='color: #555555;'&gt;2&lt;/span&gt;   1      0.348     0.782
&lt;span style='color: #555555;'&gt;3&lt;/span&gt;   0.259  1         0.952
&lt;span style='color: #555555;'&gt;4&lt;/span&gt;   0.653  0.111     0    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

]

]


---
name: exam-furrr

# 대용량 데이터 처리를 위한 솔루션 - 사례

* 수십 GB JSON 파일을 tibble 객체로 불러오는 사례


```r
parsing_log &lt;- seq(nrow(ga_record)) %&gt;%
  future_map_dfr(function(x) {
    sucess &lt;- TRUE
    msg &lt;- "OK"

    result &lt;- try(ga_record[x, ] %&gt;%
      pull %&gt;%
      fromJSON)

    if (class(result) == "try-error") {
      msg &lt;- result

      result &lt;- list("error")
      sucess &lt;- FALSE
    }

    tibble(result = list(result), sucess = sucess, msg = msg)
  }, .progress = TRUE)
```


---
name: intro-rdam
# R Data Analytics Methodology

.center[
  &lt;img src="fig/DAM.png" alt="Analytics Methodology Eco System" width="70%"&gt;
]

* RDAM(R Data Analytics Methodology)
  + RDAM은 데이터 분석의 절차 및 방법의 표준을 제시하고, 분석의 생산성과 품질 향상을 위한 여러 콤포넌트로 구성된 R 기반의 데이터분석 방법론 Eco System
* RDAM 목적
  + 분석가의 경험과 무관하게 만족할 수준 이상의 분석 결과를 얻을 수 있도록 조력
* RDAM 구성
  + 4개 layers와 8개의 components로 구성되며, 각각의 layers와 components는 상호 유기적으로 결합되어 운용

---
name: rdam-component
# RDAM 컴포넌트 목록

.center[
  &lt;img src="fig/component.png" alt="RDAM 컴포넌트" width="70%"&gt;
]

* 오늘 소개할 컴포넌트
  + Data Analytics Process
      + 데이터 분석 과정을 구조화하여 프로세스로 정의한 절차적 Compliance
  + Standard Procedure Manuals    
      + Data Analytics Process 개별 과정의 표준과 절차
  + Guides   
      + 데이터 분석 과정에서 수행하는 특정 작업의 표준을 위해 제정한 지침
  + Analytics Library / Toolkit  
      + 데이터 분석을 위한 R 패키지 
      + 라이브러리를 자동화하거나 UX로 구성한 분석 자동화 툴
  + Tech Notes 
      + 데이터 분석 기법과 활용을 기술적으로 집대성한 R 테크니컬 가이드        
  
  
---
name: rdam-process
# Data Analytics Process

.center[
  &lt;img src="fig/data-science.png" alt="R4DS" width="70%"&gt;
]

--
.center[
  &lt;img src="fig/bitstat_eng.jpeg" alt="R4DS" width="70%"&gt;
]


---
name: rconf-goodbye
class: middle, inverse

.pull-left[
# **경청해 주셔서 &lt;br&gt;감사합니다.**
&lt;br/&gt;
## R 사용자회

]

.pull-right[
.right[
&lt;img src="fig/dlookr_logo.png" alt="dlookr logo" width="40%"&gt;
&lt;img src="fig/alookr_logo.png" alt="alookr logo" width="40%"&gt;
]
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": "r",
"countIncrementalSlides": false,
"ratio": "4:3"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<!--Hat-tip: https://www.garrickadenbuie.com/blog/xaringan-tip-logo-all-slides/-->
<style>
.logo {
  background-image: url(fig/rconf-logo.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 110px;
  height: 128px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
